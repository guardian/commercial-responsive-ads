<div class="breakout__html">
    <style>
        #dfp-ad--merchandising-high {
            min-height: 0;
            margin-bottom: 10px;
        }
        @media (max-width: 740px) {
            #dfp-ad--merchandising-high .ad-slot__label--wrapper  {
                width: auto;
            }
            .ad-test--expand .facia-container__inner {
                width: 100%;
                margin-left: 0;
                margin-right: 0;
            }
        }
        #dfp-ad--merchandising-high .ad-slot__label {
            text-align: left;
        }
        .ad-test--expand {
            height: 0;
            position: relative;
            background-color: #ffffff;
            overflow: hidden;
            -webkit-transition: height 1s;
               -moz-transition: height 1s;
                 -o-transition: height 1s;
                    transition: height 1s;
        }
        .ad-test--expand .facia-container__inner {
            height: 100%;
            position: relative;
            background-color: #ffffff;
            background-image: url(%%FILE:JPG1%%);
            background-repeat: no-repeat;
            background-position: top right;
        }
        .ad-test-collapse__slide {
            position: absolute;
            top : 0;
            width: 100%;
            z-index: 2;
        }
        .ad-test--expand .ad-test__border {
            position: absolute;
            z-index: 5;
            bottom: 0;
            height: 4px;
            width: 100%;
            background-image: url(%%FILE:PNG6%%);
            background-repeat: repeat-x;
            background-position: bottom;
        }
        .ad-test-collapse__slide.slide-1 .ad-test__cta {
            position: absolute;
            width: 100%;
            height: 100%;
            background-image: url(%%FILE:PNG10%%);
            background-repeat: no-repeat;
            background-position: 100% 100%;
            background-size: 112%;
            right: 0;
        }
        .ad-test-collapse__slide.slide-1 .ad-test__logo {
            position: absolute;
            left: 20px;
            width: 20%;
            height: 100%;
            max-height: 200px;
            background-image: url(%%FILE:PNG1%%);
            background-repeat: no-repeat;
            background-size: contain;
        }
        .ad-test-collapse__slide.slide-1 .ad-test__subject {
            position: absolute;
            left: 28%;
            width: 45%;
            height: 100%;      
            background-image: url(%%FILE:PNG2%%);
            background-repeat: no-repeat;
            background-size: contain;         
        }
    
        .ad-test-collapse__slide.slide-1 {
            background-image: url(%%FILE:JPG1%%);
            background-repeat: no-repeat;
            background-position: top right;
        }
    
        .ad-test-collapse__slide.slide-2 {
            top: auto;
            bottom: 0;
            z-index: 1;
        }

        .ad-test__close-button {
            position: absolute;
            top: 0;
            right: 20px;
            -webkit-border-radius: 100px;
            border-radius: 100px;
            border: 1px solid white;
            background-color: black;
            margin: 5px;
            padding: 0;
            z-index: 3;
            height: 32px;
            width: 32px;
            -moz-transform: rotate(45deg);
            -webkit-transform: rotate(45deg);
            -o-transform: rotate(45deg);
            transform: rotate(45deg);
            -moz-transition: all 1s ease;
            -webkit-transition: all 1s ease;
            -o-transition: all 1s ease;
            transition: all 1s ease;
        }
        .ad-test__close-button:focus {
            outline-color: transparent;
            outline-style: none;
        }
        .ad-test__close-button.button-spin {
            -moz-transform: rotate(360deg);
            -webkit-transform: rotate(360deg);
            -o-transform: rotate(360deg);
            transform: rotate(360deg);
        }
        .ad-test-collapse__slide.slide-2 .ad-test__text-1,
        .ad-test-collapse__slide.slide-2 .ad-test__text-2, 
        .ad-test-collapse__slide.slide-2 .ad-test__text-3
        {
            position: absolute;
            top: 0;
            left: 0;
            -webkit-box-sizing: border-box;
            -moz-box-sizing: border-box;
            box-sizing: border-box;
            padding: 0 20px;
            width: 100%;
            height: 100%;
        }
        .ad-test-collapse__slide.slide-2 .ad-test__text-inner {
            width: 100%;
            height: 100%;
            background-size: auto 33%;
            background-repeat: no-repeat;
        }

        .ad-test-collapse__slide.slide-2 .ad-test__text-1 .ad-test__text-inner {
            background-image: url(%%FILE:PNG7%%);
            background-position: 0 0;
        }
        .ad-test-collapse__slide.slide-2 .ad-test__text-2 .ad-test__text-inner {
            background-image: url(%%FILE:PNG8%%);
            background-position: 0 40%;
        }
        .ad-test-collapse__slide.slide-2 .ad-test__text-3 .ad-test__text-inner {
            background-image: url(%%FILE:PNG9%%);
            background-position: 0 80%;
        }
    
        @media (min-width: 480px){
            .ad-test-collapse__slide.slide-1 .ad-test__logo {
                width: 12.5%;
            }
            .ad-test-collapse__slide.slide-1 .ad-test__subject {
                left: 18%;
                width: 37.5%;
            }
            .ad-test-collapse__slide.slide-1 .ad-test__cta {
                background-size: 75%;
            }
            .ad-test-collapse__slide.slide-2 .ad-test__text-1,
            .ad-test-collapse__slide.slide-2 .ad-test__text-2, 
            .ad-test-collapse__slide.slide-2 .ad-test__text-3 {
                width: 33%;
                height: 100%;
                position: absolute;
            }
    
            .ad-test-collapse__slide.slide-2 .ad-test__text-1 {
                left: 20px;
            }
    
            .ad-test-collapse__slide.slide-2 .ad-test__text-2 {
                left: 33.33333%;
            }
            .ad-test-collapse__slide.slide-2 .ad-test__text-3 {
                right: 20px;
                left: auto;
            }

            .ad-test-collapse__slide.slide-2 .ad-test__text-1 .ad-test__text-inner,
            .ad-test-collapse__slide.slide-2 .ad-test__text-2 .ad-test__text-inner, 
            .ad-test-collapse__slide.slide-2 .ad-test__text-3 .ad-test__text-inner {
                width: 100%;
                max-width: 312px;
                height: 100%;
                background-size: contain;
                background-position: 50% 50%;
                background-repeat: no-repeat;
            }

            .ad-test-collapse__slide.slide-2 .ad-test__text-1 .ad-test__text-inner {
                background-image: url(%%FILE:PNG3%%);
            }
            .ad-test-collapse__slide.slide-2 .ad-test__text-2 .ad-test__text-inner {
                background-image: url(%%FILE:PNG4%%);
                margin: 0 auto;
            }
            .ad-test-collapse__slide.slide-2 .ad-test__text-3 .ad-test__text-inner {
                background-image: url(%%FILE:PNG5%%);
            }
        }
    
        @media (min-width: 740px){
            .ad-slot__text {
                background-size: 50%;
            }
            .ad-test-collapse__slide.slide-1 .ad-test__cta {
                background-image: url(%%FILE:PNG11%%);
                background-size: 125%;
            } 
        }
        @media (min-width: 980px){
            .ad-slot__text {
                background-size: 70%;
            }
            .ad-test-collapse__slide.slide-1 .ad-test__cta {
                background-size: contain;
            }
        }
    </style>
    <div class="ad-slot__label adFullWidth__label facia-container--layout-front" data-test-id="ad-slot-label">
        <div class="facia-container__inner">Advertisement</div>
    </div>
    <div class="ad-test--expand l-side-margins">
        <div class="facia-container__inner facia-container__inner--full-span">
            <button class="ad-test__close-button">
                <i class="i i-close-icon-white-small"></i>
            </button>
            <a href="%%CLICK_URL_ESC%%%%DEST_URL%%">
                <div class="ad-test-collapse__slide slide-1">
                    <div class="ad-test__cta"></div>
                    <div class="ad-test__logo"></div>
                    <div class="ad-test__subject"></div>
                </div>
                <div class="ad-test-collapse__slide slide-2">
                    <div class="ad-test__text-1"><div class="ad-test__text-inner"></div></div>
                    <div class="ad-test__text-2"><div class="ad-test__text-inner"></div></div>
                    <div class="ad-test__text-3"><div class="ad-test__text-inner"></div></div>
                </div>
                <div class="ad-test__border"></div>
            </a>
        </div>
    </div>
    <div class="ad-slot__label--wrapper facia-container__inner facia-container__inner--full-span">
        <div class="ad-slot__label"></div>
    </div>
</div>

<script type="text/javascript" class="breakout__script">
(function () {
    if (typeof require === 'function') {
        require([
            'bean',
            'bonzo',
            'qwery',
            'common/utils/$',
            'common/utils/mediator'
        ], function (
            bean,
            bonzo,
            qwery,
            $,
            mediator
        ) {
            var isClosed = true,
            $ad = $('.ad-test--expand')

            $ad.css('height', Math.min(bonzo.viewport().height / 3, 300));
            $('.ad-test-collapse__slide').css('height', Math.min(bonzo.viewport().height / 3, 300));

            bean.on(qwery('.ad-test__close-button')[0], 'click', function () {
                var height = isClosed ? Math.min(bonzo.viewport().height * 2 / 3, 600) : Math.min(bonzo.viewport().height / 3, 300);
                $('.ad-test__close-button').toggleClass('button-spin')
                $ad.css('height', height)
                $('.ad-test-collapse__slide').css('height', Math.min(bonzo.viewport().height / 3, 300))
                isClosed = isClosed ? false : true;
            });

         });
    }
})();
</script>
