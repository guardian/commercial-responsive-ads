<div class="breakout__html">
<style>
        #dfp-ad--merchandising-high {
            min-height: 0;
            margin-bottom: 10px;
        }
        @media (max-width: 740px) {
            #dfp-ad--merchandising-high .ad-slot__label--wrapper  {
                width: auto;
            }
            .ad-exp--expand .facia-container__inner {
                width: 100%;
                margin-left: 0;
                margin-right: 0;
            }
        }
        #dfp-ad--merchandising-high .ad-slot__label {
            text-align: left;
        }
        .ad-exp--expand {
            height: 0;
            position: relative;
            background-color: #f3f3f3;
            overflow: hidden;
            -webkit-transition: height 1s;
               -moz-transition: height 1s;
                 -o-transition: height 1s;
                    transition: height 1s;
        }
        .ad-exp--expand .facia-container__inner {
            height: 100%;
            position: relative;
            background-color: #f3f3f3;
        }
        .ad-exp__close-button {
            position: absolute;
            top: 0;
            right: 0;
            -webkit-border-radius: 100px;
            border-radius: 100px;
            border: 1px solid white;
            background-color: black;
            margin: 5px;
            padding: 0;
            z-index: 3;
            height: 32px;
            width: 32px;
            -moz-transform: rotate(45deg);
            -webkit-transform: rotate(45deg);
            -o-transform: rotate(45deg);
            transform: rotate(45deg);
            -moz-transition: all 1s ease;
            -webkit-transition: all 1s ease;
            -o-transition: all 1s ease;
            transition: all 1s ease;
        }
        .ad-exp__close-button:focus {
            outline-color: transparent;
            outline-style: none;
        }
        .ad-exp__close-button.button-spin {
            -moz-transform: rotate(360deg);
            -webkit-transform: rotate(360deg);
            -o-transform: rotate(360deg);
            transform: rotate(360deg);
        }
        .ad-exp-collapse__slide {
            position: absolute;
            top : 0;
            width: 100%;
            z-index: 2;
        }
        .ad-exp-collapse__slide.slide-1 .ad-exp__logo {
            position: absolute;
            right: 0;
            width: 35%;
            height: 100%;
            background-image: url(%%FILE:PNG3%%);
            background-repeat: no-repeat;
            background-size: contain;
            background-position: 100% 90%;
        }
        .ad-exp-collapse__slide.slide-1 .ad-exp__cta {
            position: absolute;
            left: 5%;
            width: 90%;
            height: 100%;      
            background-image: url(%%FILE:PNG4%%);
            background-repeat: no-repeat;
            background-size: contain;
            background-position: 0 30%;
        }
        .ad-exp-collapse__slide.slide-1 {
            background-image: url(%%FILE:PNG6%%);
            background-repeat: repeat-x;
            background-position: 0 100%;
            background-color: #f3f3f3;
        }
        .ad-exp-collapse__slide.slide-2 {
            top: auto;
            bottom: 0;
            z-index: 1;
            background-image: url(%%FILE:PNG1%%);
            background-repeat: repeat-x;
            background-position: 50% 100%;
            background-size: contain;
        }
        .ad-exp-collapse__slide.slide-2 .ad-exp__text-1 {
            position: absolute;
            top: 0;
            left: 0;
            -webkit-box-sizing: border-box;
            -moz-box-sizing: border-box;
            box-sizing: border-box;
            padding: 0 20px;
            width: 100%;
            height: 100%;
            background-image: url(%%FILE:PNG5%%);
            background-position: 50% 100%;
            background-repeat: no-repeat;
            background-size: contain;
        }    
        @media (min-width: 480px){
            .ad-exp-collapse__slide.slide-1 .ad-exp__logo {
                width: 25%;
            }
            .ad-exp-collapse__slide.slide-1 .ad-exp__cta {
                width: 75%;
                left: 12.5%;
background-position: 0 30%;
            }
            .ad-exp-collapse__slide.slide-2 .ad-exp__text-1 {
                width: 100%;
                height: 100%;
                position: absolute;
            }
        }
        @media (min-width: 740px){
            .ad-exp-collapse__slide.slide-2 .ad-exp__text-1 {
                background-image: url(%%FILE:PNG2%%);
            }
            .ad-exp__close-button {
                right: 20px;
            }
.ad-exp-collapse__slide.slide-1 .ad-exp__cta {
background-position: 0 10%;
}
        }
        @media (min-width: 980px){
            .ad-exp-collapse__slide.slide-1 .ad-exp__logo {
                width: 22%;
            }
        }
    </style>
    <div class="ad-slot__label adFullWidth__label facia-container--layout-front" data-test-id="ad-slot-label">
        <div class="facia-container__inner">Advertisement</div>
<IMG SRC="https://ad.doubleclick.net/ad/N5295.133705.GUARDIAN.CO.UK/B8333982.112985966;sz=1x1;ord=%%CACHEBUSTER%%"/>
    </div>
    <div class="ad-exp--expand l-side-margins">
        <div class="facia-container__inner facia-container__inner--full-span">
            <button class="ad-exp__close-button">
                <i class="i i-close-icon-white-small"></i>
            </button>
            <a href="%%CLICK_URL_ESC%%https://ad.doubleclick.net/ddm/clk/285734502;112985966;s"  target="_new">
                <div class="ad-exp-collapse__slide slide-1">
                    <div class="ad-exp__cta"></div>
                    <div class="ad-exp__logo"></div>
                </div>
                <div class="ad-exp-collapse__slide slide-2">
                    <div class="ad-exp__text-1"></div>
                </div>
            </a>
        </div>
    </div>
    <div class="ad-slot__label--wrapper facia-container__inner facia-container__inner--full-span">
        <div class="ad-slot__label"></div>
    </div>
</div>

<script type="text/javascript" class="breakout__script">
(function () {
    if (typeof require === 'function') {
        require([
            'bean',
            'bonzo',
            'qwery',
            'common/utils/$',
            'common/utils/mediator'
        ], function (
            bean,
            bonzo,
            qwery,
            $,
            mediator
        ) {
            var isClosed = true,
                  $ad         = $('.ad-exp--expand')
                  
            $ad.css('height', Math.min(bonzo.viewport().height / 3, 300));
            $('.ad-exp-collapse__slide').css('height', Math.min(bonzo.viewport().height / 3, 300));

            bean.on(qwery('.ad-exp__close-button')[0], 'click', function () {
                //mediator.off('window:scroll', listener);
                var height = isClosed ? Math.min(bonzo.viewport().height * 2 / 3, 600) : Math.min(bonzo.viewport().height / 3, 300);
                $('.ad-exp__close-button').toggleClass('button-spin')
                $ad.css('height', height)
                $('.ad-exp-collapse__slide').css('height', Math.min(bonzo.viewport().height / 3, 300))
                isClosed = isClosed ? false : true;
                //$('.ad-exp__close-button').remove();
            });

         });
    }
})();
</script>
